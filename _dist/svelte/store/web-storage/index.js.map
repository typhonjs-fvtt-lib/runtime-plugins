{"version":3,"file":"index.js","sources":["../../../../src/svelte/store/web-storage/TJSPLocalStorage.js","../../../../src/svelte/store/web-storage/TJSPSessionStorage.js"],"sourcesContent":["import { TJSLocalStorage } from '#runtime/svelte/store/web-storage';\r\n\r\n/**\r\n * Loads a plugin managing a TJSLocalStorage instance.\r\n *\r\n * TODO: This will be moved to @typhonjs-svelte/runtime-plugins\r\n */\r\nexport class TJSPLocalStorage\r\n{\r\n   #storage = new TJSLocalStorage();\r\n\r\n   /**\r\n    * Handles eventbus registration.\r\n    *\r\n    * @param {import('#runtime/plugin/manager').PluginInvokeEvent} ev - Plugin event.\r\n    */\r\n   onPluginLoad(ev)\r\n   {\r\n      const prepend = typeof ev?.pluginOptions?.eventPrepend === 'string' ? `${ev.pluginOptions.eventPrepend}:` : '';\r\n\r\n      ev.eventbus.on(`${prepend}storage:local:item:get`, this.#storage.getItem, this.#storage, { guard: true });\r\n      ev.eventbus.on(`${prepend}storage:local:item:boolean:swap`, this.#storage.swapItemBoolean, this.#storage,\r\n       { guard: true });\r\n      ev.eventbus.on(`${prepend}storage:local:item:set`, this.#storage.setItem, this.#storage, { guard: true });\r\n      ev.eventbus.on(`${prepend}storage:local:store:get`, this.#storage.getStore, this.#storage, { guard: true });\r\n   }\r\n}\r\n","import { TJSSessionStorage }  from '#runtime/svelte/store/web-storage';\r\n\r\n/**\r\n * Loads a plugin managing a TJSSessionStorage instance.\r\n *\r\n * TODO: This will be moved to @typhonjs-svelte/runtime-plugins\r\n */\r\nexport class TJSPSessionStorage\r\n{\r\n   #storage = new TJSSessionStorage();\r\n\r\n   /**\r\n    * Handles eventbus registration.\r\n    *\r\n    * @param {import('#runtime/plugin/manager').PluginInvokeEvent} ev - Plugin event.\r\n    */\r\n   onPluginLoad(ev)\r\n   {\r\n      const prepend = typeof ev?.pluginOptions?.eventPrepend === 'string' ? `${ev.pluginOptions.eventPrepend}:` : '';\r\n\r\n      ev.eventbus.on(`${prepend}storage:session:item:get`, this.#storage.getItem, this.#storage, { guard: true });\r\n      ev.eventbus.on(`${prepend}storage:session:item:boolean:swap`, this.#storage.swapItemBoolean, this.#storage,\r\n       { guard: true });\r\n      ev.eventbus.on(`${prepend}storage:session:item:set`, this.#storage.setItem, this.#storage, { guard: true });\r\n      ev.eventbus.on(`${prepend}storage:session:store:get`, this.#storage.getStore, this.#storage, { guard: true });\r\n   }\r\n}\r\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACO,MAAM,gBAAgB;AAC7B;AACA,GAAG,QAAQ,GAAG,IAAI,eAAe,EAAE,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY,CAAC,EAAE;AAClB,GAAG;AACH,MAAM,MAAM,OAAO,GAAG,OAAO,EAAE,EAAE,aAAa,EAAE,YAAY,KAAK,QAAQ,GAAG,CAAC,EAAE,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AACrH;AACA,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,sBAAsB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAChH,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,+BAA+B,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ;AAC9G,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACxB,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,sBAAsB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAChH,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,uBAAuB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAClH,IAAI;AACJ;;ACxBA;AACA;AACA;AACA;AACA;AACO,MAAM,kBAAkB;AAC/B;AACA,GAAG,QAAQ,GAAG,IAAI,iBAAiB,EAAE,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY,CAAC,EAAE;AAClB,GAAG;AACH,MAAM,MAAM,OAAO,GAAG,OAAO,EAAE,EAAE,aAAa,EAAE,YAAY,KAAK,QAAQ,GAAG,CAAC,EAAE,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AACrH;AACA,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,wBAAwB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAClH,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,iCAAiC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ;AAChH,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACxB,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,wBAAwB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAClH,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,yBAAyB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AACpH,IAAI;AACJ;;;;"}