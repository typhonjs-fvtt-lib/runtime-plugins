{"version":3,"file":"index.js","sources":["../../src/dompurify/PDomPurify.js"],"sourcesContent":["import { DOMPurify } from '#runtime/dompurify';\r\n\r\nexport class PDOMPurify\r\n{\r\n   static sanitize(dirty)\r\n   {\r\n      return DOMPurify.sanitize(dirty);\r\n   }\r\n\r\n   static sanitizeWithVideo(dirty)\r\n   {\r\n      return DOMPurify.sanitizeWithVideo(dirty);\r\n   }\r\n\r\n   /**\r\n    * Handles eventbus registration.\r\n    *\r\n    * @param {import('#runtime/plugin/manager').PluginInvokeEvent} ev - Plugin event.\r\n    */\r\n   static onPluginLoad(ev)\r\n   {\r\n      const opts = { guard: true };\r\n\r\n      const prepend = typeof ev?.pluginOptions?.eventPrepend === 'string' ? `${ev.pluginOptions.eventPrepend}:` : '';\r\n\r\n      ev.eventbus.on(`${prepend}dompurify:sanitize`, this.sanitize, this, opts);\r\n      ev.eventbus.on(`${prepend}dompurify:sanitize:video`, this.sanitizeWithVideo, this, opts);\r\n   }\r\n}\r\n"],"names":[],"mappings":";;AAEO,MAAM,UAAU;AACvB;AACA,GAAG,OAAO,QAAQ,CAAC,KAAK;AACxB,GAAG;AACH,MAAM,OAAO,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACvC,IAAI;AACJ;AACA,GAAG,OAAO,iBAAiB,CAAC,KAAK;AACjC,GAAG;AACH,MAAM,OAAO,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;AAChD,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,OAAO,YAAY,CAAC,EAAE;AACzB,GAAG;AACH,MAAM,MAAM,IAAI,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AACnC;AACA,MAAM,MAAM,OAAO,GAAG,OAAO,EAAE,EAAE,aAAa,EAAE,YAAY,KAAK,QAAQ,GAAG,CAAC,EAAE,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AACrH;AACA,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAChF,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,wBAAwB,CAAC,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAC/F,IAAI;AACJ;;;;"}